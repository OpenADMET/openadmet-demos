data:
  anvil_dir: file:///home/xuc2/openadmet-models/demos/2.1_Training_models_with_Anvil
  cat_entry: null
  input_col: OPENADMET_CANONICAL_SMILES
  resource: ../1.1_Curating_external_datasets/processed_data/processed_PXR_chembl.parquet
  target_cols:
  - OPENADMET_LOGAC50
  type: intake
metadata:
  authors: Cynthia Xu
  biotargets:
  - PXR
  build_number: 0
  description: basic regression using a ChemProp multitask task model
  driver: pytorch
  email: cynthia.xu@omsf.io
  name: chemprop_pchembl
  tag: chemprop-PXR-chembl
  tags:
  - openadmet
  - test
  - pchembl
  version: v1
procedure:
  feat:
    params: {}
    type: ChemPropFeaturizer
  model:
    params:
      batch_norm: true
      depth: 3
      dropout: 0.2
      ffn_hidden_dim: 1024
      ffn_hidden_num_layers: 1
      message_hidden_dim: 2048
      messages: bond
      n_tasks: 1
    type: ChemPropMultiRegressorModel
  split:
    params:
      random_state: 42
      test_size: 0.1
      train_size: 0.7
      val_size: 0.2
    type: ShuffleSplitter
  train:
    params:
      accelerator: gpu
      early_stopping: true
      early_stopping_patience: 10
      max_epochs: 20
      monitor_metric: val_loss
      use_wandb: false
      wandb_project: demos
    type: LightningTrainer
report:
  eval:
  - params: {}
    type: RegressionMetrics
  - params:
      axes_labels:
      - True pChEMBL
      - Predicted pChEMBL
      max_val: 10
      min_val: 3
      pXC50: true
      title: True vs Predicted pChEMBL on test set
    type: RegressionPlots
  - params:
      axes_labels:
      - True pChEMBL
      - Predicted pChEMBL
      n_repeats: 2
      n_splits: 5
      pXC50: true
      random_state: 42
      title: True vs Predicted pChEMBL on test set
    type: PytorchLightningRepeatedKFoldCrossValidation
