data:
  anvil_dir: file:///data1/choderaj/openadmet/openadmet-demos/demos/02_Model_Training
  cat_entry: null
  dropna: false
  input_col: OPENADMET_CANONICAL_SMILES
  resource: ../01_Data_Curation/processed_data/multitask.parquet
  target_cols:
  - OPENADMET_LOGAC50_cyp2j2
  - OPENADMET_LOGAC50_cyp3a4
  - OPENADMET_LOGAC50_cyp1a2
  - OPENADMET_LOGAC50_pxr
  - OPENADMET_LOGAC50_cyp2d6
  - OPENADMET_LOGAC50_cyp2c9
  - OPENADMET_LOGAC50_ahr
  type: intake
metadata:
  authors: Your Name
  biotargets:
  - CYP3A4
  - CYP2J2
  - CYP1A2
  - CYP2D6
  - CYP2C9
  - PXR
  - AHR
  build_number: 0
  description: basic regression using a ChemProp multitask task model
  driver: pytorch
  email: youremail@mail.com
  name: chemprop_pchembl
  tag: chemprop
  tags:
  - openadmet
  - test
  - chemprop
  version: v1
procedure:
  ensemble: null
  feat:
    params: {}
    type: ChemPropFeaturizer
  model:
    param_path: null
    params:
      batch_norm: true
      depth: 4
      dropout: 0.2
      ffn_hidden_dim: 1024
      ffn_hidden_num_layers: 4
      from_chemeleon: false
      message_hidden_dim: 2048
      messages: bond
      n_tasks: 7
    serial_path: null
    type: ChemPropModel
  split:
    params:
      random_state: 42
      test_size: 0.2
      train_size: 0.7
      val_size: 0.1
    type: ShuffleSplitter
  train:
    params:
      accelerator: gpu
      early_stopping: true
      early_stopping_min_delta: 0.001
      early_stopping_mode: min
      early_stopping_patience: 10
      max_epochs: 50
      monitor_metric: val_loss
      use_wandb: false
      wandb_project: demos
    type: LightningTrainer
  transform: null
report:
  eval:
  - params: {}
    type: RegressionMetrics
  - params:
      axes_labels:
      - True LogAC50
      - Predicted LogAC50
      n_repeats: 5
      n_splits: 5
      pXC50: true
      random_state: 42
      title: Multitask True vs Predicted LogAC50 on test set
    type: PytorchLightningRepeatedKFoldCrossValidation
